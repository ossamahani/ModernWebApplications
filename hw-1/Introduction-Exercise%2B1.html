<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Arrow Functions</title>
</head>
<body>

<ul>
  <li data-time="5:17">NodeJs Video</li>
  <li data-time="8:22">NodeJs Video</li>
  <li data-time="3:34">AngularJs Video</li>
  <li data-time="5:23">NodeJs Video</li>
  <li data-time="7:12">NodeJs Video</li>
  <li data-time="7:24">AngularJs Video</li>
  <li data-time="6:46">NodeJs Video</li>
  <li data-time="4:45">NodeJs Video</li>
  <li data-time="4:40">NodeJs Video</li>
  <li data-time="7:58">AngularJs Video</li>
  <li data-time="11:51">NodeJs Video</li>
  <li data-time="9:13">NodeJs Video</li>
  <li data-time="5:50">NodeJs Video</li>
  <li data-time="5:52">AngularJs Video</li>
  <li data-time="5:49">NodeJs Video</li>
  <li data-time="8:57">NodeJs Video</li>
  <li data-time="11:29">NodeJs Video</li>
  <li data-time="3:07">NodeJs Video</li>
  <li data-time="5:59">AngularJs Video</li>
  <li data-time="3:31">NodeJs Video</li>
</ul>

<script>

// Select all the list items on the page and convert to array

var items = Array.from(document.getElementsByTagName("li"));
console.log(items);

// Filter for only the elements that contain the word 'NodeJs'

var noteJS = items.filter(function(value, index, ar) {
 	 return (value.innerHTML == 'NodeJs Video');
});
console.log(noteJS);

// map down to a list of time strings

var timeString = noteJS.map(function(value, index, ar) {
  return value.getAttribute("data-time");
});
console.log(timeString);

// map to an array of seconds

var secString = timeString.map(function(value, index, ar){
	return 60*value.split(":")[0] + parseInt(value.split(":")[1]);
});
console.log(secString);
// reduce to get total

var totalSec = secString.reduce(function(prev, value, index, ar){
					return prev+value;
});
console.log(totalSec);
// This can also be done in a single .reduce(), but we're practicing arrow functions here, so chain them!
var totalSecArrow = secString.reduce( (prev, value)=> prev+value );
console.log(totalSecArrow);

</script>
</body>
</html>
